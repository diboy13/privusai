(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{24654:function(){},31047:function(e,t,n){"use strict";var r,a=n(4410);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r||(r=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m4.458 4.457 7.543 7.542m0 0 7.542 7.543m-7.542-7.543 7.542-7.542m-7.542 7.542-7.542 7.543"})))}},43124:function(e,t,n){"use strict";var r,a,l=n(4410);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return l.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 61 60"},e),r||(r=l.createElement("g",{clipPath:"url(#icon-fail_svg__a)"},l.createElement("path",{fill:"#FF2323",d:"M43 8.35A24.999 24.999 0 1 1 5.513 30.81L5.5 30l.013-.81A25 25 0 0 1 43 8.35m-16.223 14.5a2.5 2.5 0 0 0-3.044 3.917L26.963 30l-3.23 3.232-.208.235a2.5 2.5 0 0 0 3.742 3.3l3.233-3.23 3.233 3.23.235.208a2.5 2.5 0 0 0 3.3-3.743L34.038 30l3.23-3.233.207-.235a2.5 2.5 0 0 0-3.742-3.3l-3.233 3.23-3.233-3.23-.235-.207z"}))),a||(a=l.createElement("defs",null,l.createElement("clipPath",{id:"icon-fail_svg__a"},l.createElement("path",{fill:"#fff",d:"M.5 0h60v60H.5z"})))))}},38958:function(e,t,n){"use strict";var r,a,l=n(4410);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return l.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 61 60"},e),r||(r=l.createElement("g",{clipPath:"url(#icon-success_svg__a)"},l.createElement("path",{fill:"#46CA93",d:"M43 8.35A24.999 24.999 0 1 1 5.513 30.81L5.5 30l.013-.81A25 25 0 0 1 43 8.35m-3.233 14.882a2.5 2.5 0 0 0-3.3-.207l-.234.207L28 31.462l-3.233-3.23-.235-.207a2.5 2.5 0 0 0-3.507 3.507l.208.235 5 5 .235.208a2.5 2.5 0 0 0 3.064 0l.235-.208 10-10 .208-.235a2.5 2.5 0 0 0-.208-3.3"}))),a||(a=l.createElement("defs",null,l.createElement("clipPath",{id:"icon-success_svg__a"},l.createElement("path",{fill:"#fff",d:"M.5 0h60v60H.5z"})))))}},65472:function(e,t,n){"use strict";n.d(t,{Bm:function(){return o}});var r=n(89506);let a="/config";class l{static async getConfig(){return(await r.h.get(a)).data}}var i=n(76351);let s=()=>({queryKey:[a],queryFn:()=>l.getConfig()}),o=()=>(0,i.a)(s())},29642:function(e,t,n){"use strict";n.d(t,{UZ:function(){return c},pg:function(){return o}});var r=n(89506);class a{static async getUser(){return(await r.J.post("/webapi/balances")).data}static async getPublicData(){return(await r.h.get("/internal/apy")).data}}var l=n(76351);let i=()=>({queryKey:["user"],queryFn:a.getUser}),s=()=>({queryKey:["publicData"],queryFn:a.getPublicData}),o=()=>(0,l.a)(i()),c=()=>(0,l.a)(s())},77460:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(89506);let a="/poh/offers",l=e=>"".concat(a,"/").concat(e);class i{static async getPoHOffers(e){return(await r.h.post(a,null,{params:e})).data}static async getPoHOfferById(e){return(await r.h.post(l(e))).data}}},33563:function(e,t,n){"use strict";n.d(t,{bL:function(){return a}});var r=n(77460);let a=e=>{let t=Object.fromEntries(e),n=Number(e.get("limit"))||10;return{queryKey:["pohOffersInfinite","".concat(n),JSON.stringify(t)],queryFn:e=>{let{pageParam:a=0}=e;return r.D.getPoHOffers({...t,limit:n,offset:a})},initialPageParam:0,getNextPageParam:(e,t)=>t.map(e=>e.items.length).reduce((e,t)=>e+t,0)<e.count?t.length*n:void 0}}},77051:function(e,t,n){"use strict";n.d(t,{CJ:function(){return C},PY:function(){return w},OD:function(){return O},tJ:function(){return P},P7:function(){return Z},NG:function(){return _},mn:function(){return N}});var r=n(89506);let a="/poh/user",l={info:"".concat(a,"/info"),offers:"".concat(a,"/offers"),createOffer:"".concat(a,"/offers/create"),cancelOffer:e=>"".concat(a,"/offers/cancel/").concat(e),offerById:e=>"".concat(a,"/offers/").concat(e),leaseOfferById:e=>"".concat(a,"/offers/lease/").concat(e),deleteOfferById:e=>"".concat(a,"/offers/delete/").concat(e),editOfferByid:e=>"".concat(a,"/offers/edit/").concat(e)};class i{static async getUserPoHInfo(){return(await r.h.post("".concat(l.info))).data}static async createUserOffer(e){return await r.h.post("".concat(l.createOffer),e)}static async getUserOffers(e){return(await r.h.post("".concat(l.offers),null,{params:e})).data}static async cancelUserOffer(e){return(await r.h.post("".concat(l.cancelOffer(e)))).data}static async getUserOfferById(e){return(await r.h.post("".concat(l.offerById(e)))).data}static async leaseOfferById(e){return(await r.h.post("".concat(l.leaseOfferById(e)))).data}static async deleteOfferById(e){return(await r.h.post("".concat(l.deleteOfferById(e)))).data}static async editOfferById(e,t){return(await r.h.put("".concat(l.editOfferByid(e)),t)).data}}var s=n(76351),o=n(41287),c=n(25524),u=n(16463),f=n(33563),d=n(93191);let h=(e,t)=>{let n=(0,d.NL)();return r=>{e.forEach(e=>n.invalidateQueries({queryKey:e})),t&&t(r)}},m=()=>({queryKey:["userPoHInfo"],queryFn:i.getUserPoHInfo}),p=()=>({mutationFn:e=>i.createUserOffer(e)}),g=e=>{let t=Object.fromEntries(e),n=Number(e.get("limit"))||10;return{queryKey:["userOffers","".concat(n),JSON.stringify(t)],queryFn:e=>{let{pageParam:r=0}=e;return i.getUserOffers({...t,limit:n,offset:r})},initialPageParam:0,getNextPageParam:(e,t)=>t.map(e=>e.items.length).reduce((e,t)=>e+t,0)<e.count?t.length*n:void 0}},y=()=>({mutationFn:e=>i.cancelUserOffer(e)}),x=()=>({mutationFn:e=>i.leaseOfferById(e)}),j=()=>({mutationFn:e=>i.deleteOfferById(e)}),v=()=>({mutationFn:e=>{let{offerId:t,offerData:n}=e;return i.editOfferById(t,n)}}),b=e=>{let t=(0,u.useSearchParams)();return h([g(t).queryKey,m().queryKey,(0,f.bL)(t).queryKey],e)},_=()=>(0,s.a)(m()),Z=e=>(0,o.N)(g(e)),w=e=>(0,c.D)({...p(),onSuccess:b(e)}),C=e=>(0,c.D)({...y(),onSuccess:b(e)}),N=e=>(0,c.D)({...x(),onSuccess:b(e)}),O=e=>(0,c.D)({...j(),onSuccess:b(e)}),P=e=>(0,c.D)({...v(),onSuccess:b(e)})},89506:function(e,t,n){"use strict";n.d(t,{h:function(){return u},J:function(){return f}});var r=n(38472),a=n(97334),l=n.n(a),i=n(93375);let s=()=>(0,i.getCookie)("clore_token");var o=n(9585),c=n(33458);let u=r.Z.create({baseURL:c.UU,paramsSerializer:e=>l().stringify(e,{indices:!1})});u.interceptors.request.use(e=>{let t=null!==c.Y$&&void 0!==c.Y$?c.Y$:s();return t||(0,o.r)(),e.data?e.data={...e.data,token:t}:e.data={token:t},e});let f=r.Z.create({baseURL:c.Ee,paramsSerializer:e=>l().stringify(e,{indices:!1})});f.interceptors.request.use(e=>{let t=null!==c.Y$&&void 0!==c.Y$?c.Y$:s();return t||(0,o.r)(),e.data?e.data={...e.data,token:t}:e.data={token:t},e})},33458:function(e,t,n){"use strict";n.d(t,{Ee:function(){return i},UU:function(){return l},Y$:function(){return s},f8:function(){return a}});var r=n(25566);let a="https://clore.ai/login",l="https://clore.ai/poh-api",i="https://clore.ai",s=r.env.NEXT_PUBLIC_AUTH_TOKEN_FOR_DEV},77437:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(65171);let a={MAX_AVAILABLE_OFFERS:20,MIN_ANNUAL_RATE:5,MAX_ANNUAL_RATE:250,MIN_RENT_TIME:r.R,MAX_RENT_TIME:90*r.R,MIN_AMOUNT:500,MAX_AMOUNT:1e7,PENALTY_PERCENTAGE:5}},65171:function(e,t,n){"use strict";n.d(t,{J:function(){return r},R:function(){return a}});let r=3600,a=86400},65213:function(e,t,n){"use strict";var r=n(57437),a=n(2265),l=n(83988),i=n(38958);t.Z=()=>{let{openNotification:e}=(0,a.useContext)(l.u);return{setNotification:t=>"success"===t.type?e({...t,icon:(0,r.jsx)(i.Z,{width:24,height:24}),className:"aero-notification"}):e({className:"aero-notification",...t})}}},83988:function(e,t,n){"use strict";n.d(t,{NotificationProvider:function(){return s},u:function(){return i}});var r=n(57437),a=n(2265),l=n(3685);let i=(0,a.createContext)({name:"NotificationContext",openNotification:()=>{}}),s=e=>{let{children:t}=e,[n,a]=l.ZP.useNotification();return(0,r.jsxs)(i.Provider,{value:{name:"NotificationContext",openNotification:e=>{n.open({...e})}},children:[a,t]})}},25500:function(e,t,n){"use strict";var r=n(57437),a=n(2265),l=n(56115),i=n(46682),s=n(37342),o=n(31047);t.Z=()=>{let[e,t]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.ZP,{type:"primary",icon:(0,r.jsx)(l.Z,{}),onClick:()=>{t(!0)},children:"Add offer"}),(0,r.jsx)(s.Z,{title:"Add offer",isOpen:e,callback:()=>{t(!1)},closeIcon:(0,r.jsx)(o.Z,{width:24,height:24}),type:"default"})]})}},637:function(e,t,n){"use strict";var r=n(57437),a=n(27975),l=n(24623),i=n(46682),s=n(77051),o=n(29879);let{Text:c,Title:u}=a.default;t.Z=e=>{let{offerId:t,callback:n,onCancel:a,...f}=e,d=(0,s.OD)(()=>{a&&a(),n&&n()});return(0,r.jsxs)(o.Z,{width:600,onCancel:a,...f,children:[(0,r.jsx)(u,{level:3,style:{marginBottom:16},children:"Delete offer"}),(0,r.jsx)(c,{type:"secondary",children:"Do you want to delete the order?"}),(0,r.jsxs)(l.Z,{gap:8,style:{marginTop:40},children:[(0,r.jsx)(i.ZP,{size:"small",type:"primary",onClick:()=>{t&&d.mutate(t)},block:!0,loading:d.isPending,children:"Delete"}),(0,r.jsx)(i.ZP,{size:"small",onClick:a,block:!0,children:"Cancel"})]})]})}},29879:function(e,t,n){"use strict";var r=n(57437),a=n(10109),l=n(49480),i=n.n(l),s=n(31047),o=n(56800);t.Z=e=>{let{...t}=e;return(0,r.jsx)(a.Z,{centered:!0,styles:{header:{marginBottom:32},content:{padding:40}},footer:null,...t,className:o(i().modal,t.className),closeIcon:(0,r.jsx)(s.Z,{width:24,height:24}),children:t.children})}},39063:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r,a=n(57437),l=n(24623),i=n(1450),s=n(16591),o=n(47970),c=n(62737),u=n.n(c);let f=e=>{let t=e.expected_finish_time,n=e.rent_start_time;if("number"==typeof t&&"number"==typeof n){let e=u()(t),n=u()(new Date),r=e.diff(n,"hour"),a=e.diff(n,"minute")%60;return 0===r&&0===a?"Completed":"".concat(r,"h ").concat(a,"m to completion")}return null};var d=n(12655),h=n.n(d),m=n(4410);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var g=function(e){return m.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none"},e),r||(r=m.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M8 5.167V8.5l2 2m-8-2a6 6 0 1 0 12 0 6 6 0 0 0-12 0"})))},y=e=>{let{offer:t}=e,n=f(t);return(0,a.jsx)(l.Z,{gap:4,align:"center",className:h().root,children:n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{}),(0,a.jsx)("span",{children:n})]})})},x=n(3650),j=n(62429);let v=(e,t,n,r)=>{let l=(0,o._)(e,t),i={minWidth:65,textAlign:"center",backgroundColor:"borrow"===r||"borrow"===l?"var(--color-gray-dark)":"var(--color-white)",color:"borrow"===r||"borrow"===l?"var(--color-white)":"var(--color-black)"};if("rent"===n||"offersMarketplace"===n)return(0,a.jsx)(x.Z,{bordered:!1,style:i,children:"Earn"});if("offersActiveRent"===n)switch(l){case"earn":return(0,a.jsx)(x.Z,{bordered:!1,style:i,children:"Earning"});case"borrow":return(0,a.jsx)(x.Z,{bordered:!1,style:i,children:"Borrowing"})}},b=(e,t,n,r)=>{var a,l,i;let s=(0,o._)(e,t),c=[{label:"Period time",value:(0,j.y)(e.rent_time)}];return"rent"===n&&(c.push({label:"Rental fee",value:"".concat(null!==(a=e.total_earnings)&&void 0!==a?a:0," CLORE")}),c.push({label:"APY",value:"".concat(e.annual_rate,"%")})),"offersMarketplace"===n&&(c.push({label:"APY",value:"".concat(e.annual_rate,"%")}),c.push({label:"Profit",value:"".concat(null!==(l=e.total_earnings)&&void 0!==l?l:0," CLORE")})),"offersActiveRent"===n&&("earn"===r||"earn"===s)&&c.push({label:"APY",value:"".concat(e.annual_rate,"%")}),"offersActiveRent"===n&&("borrow"===r||"borrow"===s)&&(c.push({label:"Rental fee",value:"".concat(null!==(i=e.total_earnings)&&void 0!==i?i:0," CLORE")}),c.push({label:"APY",value:"".concat(e.annual_rate,"%")})),c};var _=n(2265),Z=n(46682),w=n(77051),C=n(29879),N=e=>{let{offerType:t="earn",offer:n}=e,r={minWidth:191},[o,c]=(0,_.useState)("close"),[u,d]=(0,_.useState)(!1),h=(0,w.CJ)(),m=f(n),p=()=>{d(!1)},g=()=>{d(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{gap:8,justify:"flex-end",vertical:!0,children:["borrow"===t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Z.ZP,{type:"primary",style:r,size:"small",onClick:()=>{c("stop"),g()},disabled:null===m||"Completed"===m,children:"Stop renting"})}),"earn"===t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Z.ZP,{type:"primary",size:"small",style:r,onClick:()=>{c("close"),g()},children:"Close offer"})})]}),(0,a.jsxs)(C.Z,{width:600,open:u,onCancel:p,children:[(0,a.jsxs)(s.Z,{level:3,style:{marginBottom:16},children:["stop"===o&&"Stop renting","close"===o&&"Close offer"]}),(0,a.jsxs)(i.Z,{type:"secondary",children:["stop"===o&&"Do you want to stop the rent before due time?","close"===o&&"Do you want to close the offer?"]}),(0,a.jsxs)(l.Z,{gap:8,style:{marginTop:40},children:[(0,a.jsx)(Z.ZP,{size:"small",type:"primary",block:!0,onClick:()=>{h.mutate(n.id,{onSuccess:()=>p()})},loading:h.isPending,children:"Ok"}),(0,a.jsx)(Z.ZP,{size:"small",block:!0,onClick:p,children:"Cancel"})]})]})]})},O=n(41029),P=n(58805),k=n(37342),E=n(50009),A=n.n(E),S=e=>{let{offer:t}=e,[n,r]=(0,_.useState)(!1);return(0,a.jsxs)(l.Z,{gap:8,align:"flex-end",children:[(0,a.jsx)(Z.ZP,{size:"small",type:"link",icon:(0,a.jsx)(O.Z,{}),className:A().published,children:"Published"}),(0,a.jsx)(Z.ZP,{size:"small",onClick:()=>{r(!0)},children:"Edit offer"}),(0,a.jsx)(k.Z,{title:"Edit offer",isOpen:n,callback:()=>{r(!1)},closeIcon:(0,a.jsx)(P.Z,{style:{fontSize:24}}),type:"edit",offer:t})]})},B=e=>{let{label:t,value:n}=e;return(0,a.jsxs)(l.Z,{gap:8,vertical:!0,children:[(0,a.jsx)(i.Z,{type:"secondary",style:{fontSize:14},children:t}),(0,a.jsx)(i.Z,{style:{fontSize:18},children:n})]})},R=n(27975),M=n(16463),I=n(45097),F=n.n(I),T=n(65213);let{Text:L}=R.default;var z=e=>{var t,n;let{offer:r,callback:i,onCancel:s,...o}=e,c="".concat(null!==(t=null==r?void 0:r.amount)&&void 0!==t?t:0," CLORE"),u="".concat((0,j.y)(null==r?void 0:r.rent_time)),f="".concat(null!==(n=null==r?void 0:r.total_earnings)&&void 0!==n?n:0," CLORE"),d=(0,M.useRouter)(),{setNotification:h}=(0,T.Z)(),m=(0,w.mn)(e=>{s&&s(),i&&i(),e&&(h({type:"success",message:"Your coins are in leasing now!",description:"#".concat(e.offer_number," in renting")}),d.push("poh-marketplace/offers"))});return(0,a.jsxs)(C.Z,{width:600,onCancel:s,title:"Rent the coins",...o,children:[(0,a.jsxs)(l.Z,{vertical:!0,children:[(0,a.jsxs)(l.Z,{gap:8,justify:"space-between",className:F().txtBlock,children:[(0,a.jsx)(L,{style:{fontSize:18},type:"secondary",children:"Coins amount"}),(0,a.jsx)(L,{style:{fontSize:18},children:c})]}),(0,a.jsxs)(l.Z,{gap:8,justify:"space-between",className:F().txtBlock,children:[(0,a.jsx)(L,{style:{fontSize:18},type:"secondary",children:"Time period"}),(0,a.jsx)(L,{style:{fontSize:18},children:u})]}),(0,a.jsxs)(l.Z,{gap:8,justify:"space-between",className:F().txtBlock,children:[(0,a.jsx)(L,{style:{fontSize:18},type:"secondary",children:"Revenue"}),(0,a.jsx)(L,{style:{fontSize:18},children:f})]})]}),(0,a.jsxs)(l.Z,{gap:8,style:{marginTop:32},children:[(0,a.jsx)(Z.ZP,{type:"primary",block:!0,loading:m.isPending,onClick:()=>{r&&m.mutate(r.id)},children:"Proceed"}),(0,a.jsx)(Z.ZP,{block:!0,onClick:s,children:"Decline"})]})]})},D=e=>{let{offer:t}=e,[n,r]=(0,_.useState)(!1);return(0,a.jsxs)(l.Z,{gap:8,align:"flex-end",children:[(0,a.jsx)(Z.ZP,{size:"small",style:{minWidth:146},onClick:()=>{r(!0)},children:"Rent"}),(0,a.jsx)(z,{open:n,onCancel:()=>{r(!1)},offer:t})]})},U=n(97978),J=n.n(U),Y=e=>{let{item:t,userId:n,place:r,type:c="default"}=e,u=(0,o._)(t,n),f=b(t,n,r,c),d=v(t,n,r,c),h="offersMarketplace"===r?J().content:"";return(0,a.jsxs)("div",{className:J().root,children:[(0,a.jsxs)(l.Z,{gap:8,vertical:!0,flex:"0 0 auto",className:J().tag,children:[d,(0,a.jsxs)(i.Z,{type:"secondary",style:{fontSize:14},children:["#",t.offer_number]})]}),(0,a.jsxs)(l.Z,{justify:"space-between",flex:"1 0 auto",className:h,children:[(0,a.jsxs)(l.Z,{gap:12,vertical:!0,className:J().info,children:[(0,a.jsxs)(s.Z,{level:5,style:{fontSize:24,lineHeight:1},children:[t.amount," CLORE"]}),(0,a.jsx)(l.Z,{gap:24,children:f.map((e,t)=>(0,a.jsx)(B,{label:e.label,value:e.value},"".concat(e.value,"-").concat(t)))}),"offersActiveRent"===r&&(0,a.jsx)(y,{offer:t})]}),"offersMarketplace"===r&&(0,a.jsx)(S,{offer:t}),"offersActiveRent"===r&&(0,a.jsx)(N,{offerType:u,offer:t}),"rent"===r&&(0,a.jsx)(D,{offer:t})]})]})}},37342:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r,a=n(57437),l=n(2265),i=n(10109),s=n(26267),o=n(24623),c=n(46682),u=n(87490),f=n(77437),d=n(65171);let h=e=>e%4==0&&e%100!=0||e%400==0?366:365,m=(e,t,n)=>{let r=h(Number(new Date().getFullYear())),a=e*t*(n/d.R)/r/100;return a>0?Number(a.toFixed(10)):0};var p=n(65472),g=n(77051),y=n(56115),x=n(66456),j=n(98616),v=n(19310),b=n.n(v),_=e=>{let{step:t,min:n,max:r,...i}=e,{button:s,input:o}=b(),[c,u]=(0,l.useState)(Number(i.value)||0),f=(0,a.jsx)("button",{type:"button",className:s,onClick:()=>{u(e=>e+1),i.onChange&&i.onChange(c+1)},disabled:void 0!==r&&c>=Number(r),children:(0,a.jsx)(y.Z,{})}),d=(0,a.jsx)("button",{type:"button",className:s,onClick:()=>{u(e=>e-1),i.onChange&&i.onChange(c-1)},disabled:void 0!==n&&c<=Number(n),children:(0,a.jsx)(x.Z,{})});return(0,a.jsx)(j.Z,{style:{width:"100%"},addonBefore:d,addonAfter:f,controls:!1,className:o,step:t,...i,onChange:e=>{var t;u(Number(e)),t=Number(e),i.onChange&&i.onChange(t)},value:c})},Z=n(27975),w=n(62586),C=n(25057),N=n(54522);let{Text:O}=Z.default;var P=e=>{let{data:t,isLoading:n}=(0,g.NG)(),r=null==t?void 0:t.balance.free_amount;return(0,a.jsxs)(o.Z,{vertical:!0,children:[(0,a.jsx)(j.Z,{...e}),(0,a.jsx)(o.Z,{justify:"flex-end",children:n?(0,a.jsx)(w.ZP,{theme:{algorithm:C.Z.darkAlgorithm},children:(0,a.jsx)(N.Z.Button,{active:!0,style:{width:180,height:24,borderRadius:4}})}):(0,a.jsxs)(O,{type:"success",children:["Available ",r," CLORE"]})})]})},k=n(29642);let{Text:E}=Z.default;var A=e=>{let{data:t,isLoading:n}=(0,k.UZ)(),r=null==t?void 0:t.apy;return(0,a.jsxs)(o.Z,{vertical:!0,children:[(0,a.jsx)(_,{...e}),(0,a.jsx)(o.Z,{justify:"flex-end",children:n?(0,a.jsx)(w.ZP,{theme:{algorithm:C.Z.darkAlgorithm},children:(0,a.jsx)(N.Z.Button,{active:!0,style:{width:180,height:24,borderRadius:4}})}):r&&r>=0?(0,a.jsxs)(E,{type:"success",children:["Average APY ",r,"%"]}):null})]})},S=n(1450),B=n(16591),R=n(97255),M=n.n(R),I=n(56800),F=e=>{let{className:t,name:n="",result:r=""}=e;return(0,a.jsxs)(o.Z,{justify:"space-between",align:"center",gap:8,className:I(M().root,t),children:[(0,a.jsx)(S.Z,{type:"secondary",style:{fontSize:20,flexShrink:0},children:n}),(0,a.jsx)(B.Z,{level:5,type:"danger",children:r})]})};let T=(e,t,n)=>{let r={amount:500,rent_time:t.MIN_RENT_TIME/d.J,annual_rate:5};return n&&"edit"===e&&(r={amount:n.amount,rent_time:n.rent_time/d.J,annual_rate:n.annual_rate}),r};var L=n(72323),z=n.n(L),D=n(4410);function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var J=function(e){return D.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 25"},e),r||(r=D.createElement("path",{d:"M17 4.014c-1.453-.946-2.724-1.388-4.66-1.514-1.817 1.766-1.756 5.36 0 7 .726-3.027 2.42-4.667 4.66-5.486m2.517 1.49C16.414 5.378 14 7.971 14 10.5c2.552-1.58 5.517-1.644 8-.38-.414-2.023-1.197-3.09-2.483-4.616M22 12.799c-1.782-1.832-5.282-1.649-7 .061 2.806.654 4.327 1.893 5.6 4.64.972-1.539 1.4-2.686 1.4-4.701m-3 7.149c-.19-3.31-2.25-5.257-5-5.448 1.423 2.713 1.709 5.241.443 8 1.89-.564 2.975-1.103 4.557-2.552M11.643 22.5c1.749-1.829 1.87-4.793 0-7-.724 3.09-2.291 4.667-4.643 5.55 1.62 1.033 2.671 1.266 4.643 1.45m-7.29-3C7.173 19.227 9 17.312 9 14.5c-1.75 1.438-4.707 1.625-7 .563.64 1.941 1.15 2.956 2.353 4.437m-2.352-7.35c1.59 1.674 4.9 1.922 6.999 0-2.99-.682-4.742-2.4-5.536-4.65-.89 1.302-1.491 3.1-1.463 4.65M5 5.12c.443 3.311 2.089 5.104 5 5.38-1.47-2.648-1.582-5.172-.506-8C7.405 3.052 6.3 3.812 5 5.12"})))},Y=e=>{let{callback:t,offer:n,type:r,handleModalSuccessOpen:i,handleModalFailedOpen:h,handleModalDeleteShow:y}=e,{data:x}=(0,p.Bm)(),j=T(r,null!=x?x:f.g,n),{MIN_AMOUNT:v,MIN_RENT_TIME:b,MAX_RENT_TIME:Z,MIN_ANNUAL_RATE:w,MAX_ANNUAL_RATE:C}=null!=x?x:f.g,[N]=s.Z.useForm(),[O,k]=(0,l.useState)(m(Number(j.amount),Number(j.annual_rate),Number(j.rent_time&&j.rent_time*d.J))),E=()=>{i(),t&&t(),setTimeout(()=>{N.resetFields()},200)},{data:S}=(0,g.NG)(),B=(0,g.PY)(E),R=(0,g.tJ)(E),M=null==S?void 0:S.balance.free_amount,I=()=>{let e=N.getFieldsValue();k(m(Number(e.amount),Number(e.annual_rate),Number(e.rent_time*d.J)))};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.Z,{layout:"vertical",name:"default"===r?"Add offer":"Edit offer ".concat(null==n?void 0:n.id),form:N,onFinish:e=>{let t={offer:{amount:Number(e.amount),rent_time:Number(e.rent_time)*d.J,annual_rate:Number(e.annual_rate)}};t&&"default"===r&&B.mutate(t),t&&"edit"===r&&(null==n?void 0:n.id)&&R.mutate({offerData:t,offerId:null==n?void 0:n.id})},onFinishFailed:()=>{h()},initialValues:j,children:[(0,a.jsx)(s.Z.Item,{label:"Money amount",name:"amount",validateTrigger:"onBlur",rules:[{type:"integer",message:"Amount must be a integer number"},{type:"number",min:v,max:M,transform:e=>Number(e),message:"Amount must be greater than ".concat(v," CLORE and less than ").concat(M," CLORE")}],children:(0,a.jsx)(P,{autoComplete:"off",placeholder:"0",className:z().input,controls:!1,addonAfter:(0,a.jsx)(J,{width:24,height:24,className:z().icon}),onChange:I})}),(0,a.jsx)(s.Z.Item,{label:"Time period (from ".concat(b/d.J," to ").concat(Z/d.J," hours)"),name:"rent_time",rules:[{type:"integer",message:"Rent time must be a integer number"},{type:"number",min:b/d.J,max:Z/d.J,transform:e=>Number(e),message:"Rent time must be greater than ".concat(b/d.J," hours and less than ").concat(Z/d.J," hours")}],children:(0,a.jsx)(_,{step:1,onChange:I})}),(0,a.jsx)(s.Z.Item,{label:"Reward percent (from ".concat(w,"% to ").concat(C,"%)"),name:"annual_rate",rules:[{type:"number",min:w,max:C,transform:e=>Number(e),message:"Reward must be greater than ".concat(w,"% and less than ").concat(C,"%")}],children:(0,a.jsx)(A,{step:5,onChange:I,stringMode:!0})}),(0,a.jsx)(u.Z,{children:(0,a.jsx)(F,{name:"Rewards",result:"".concat(O," CLORE")})}),(0,a.jsx)(s.Z.Item,{style:{marginBottom:0},children:"edit"===r?(0,a.jsxs)(o.Z,{gap:8,children:[(0,a.jsx)(c.ZP,{type:"primary",htmlType:"submit",block:!0,loading:R.isPending,children:"Save"}),(0,a.jsx)(c.ZP,{htmlType:"button",block:!0,onClick:y,children:"Delete offer"})]}):(0,a.jsx)(c.ZP,{type:"primary",htmlType:"submit",block:!0,loading:B.isPending,children:"Add"})})]})})},q=n(637),K=n(29879),H=n(43124),V=n(38958);let{Text:X}=Z.default,$=e=>{let{type:t,offer:n,callback:r,isFinished:l,handleModalSuccessClose:i,isFinishedFailed:s,handleModalFailedClose:u,isModalDelShow:f,handleModalDeleteClose:d}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.Z,{open:l,width:370,onCancel:i,children:(0,a.jsxs)(o.Z,{align:"center",vertical:!0,justify:"center",gap:16,style:{paddingTop:32},children:[(0,a.jsx)(V.Z,{width:60,height:60}),(0,a.jsx)(B.Z,{level:3,children:"Successful"}),(0,a.jsx)(X,{type:"secondary",style:{fontSize:18,textAlign:"center"},children:"default"===t?"Your offer was successfully created.":"Your offer was successfully edited."})]})}),(0,a.jsx)(K.Z,{open:s,width:370,onCancel:u,children:(0,a.jsxs)(o.Z,{align:"center",vertical:!0,justify:"center",gap:16,style:{paddingTop:32},children:[(0,a.jsx)(H.Z,{width:60,height:60}),(0,a.jsx)(B.Z,{level:3,children:"Uh oh..."}),(0,a.jsxs)(X,{type:"secondary",style:{fontSize:18,textAlign:"center",marginBottom:16},children:["Something went wrong.",(0,a.jsx)("br",{}),"Try again later"]}),(0,a.jsx)(c.ZP,{type:"primary",onClick:u,block:!0,children:"My offers"})]})}),(0,a.jsx)(q.Z,{open:f,onCancel:d,offerId:null==n?void 0:n.id,callback:r})]})},G=e=>{let{title:t,isOpen:n,closeIcon:r,callback:s,type:o,offer:c}=e,[u,f]=(0,l.useState)(!1),[d,h]=(0,l.useState)(!1),[m,p]=(0,l.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(i.Z,{title:t,open:!0,footer:null,onCancel:s,styles:{header:{marginBottom:32},content:{padding:40}},width:600,closeIcon:r,children:(0,a.jsx)(Y,{callback:s,type:o,offer:c,handleModalSuccessOpen:()=>{h(!0)},handleModalFailedOpen:()=>{f(!0)},handleModalDeleteShow:()=>{p(!0)}})}),(0,a.jsx)($,{type:o,offer:c,callback:s,isFinished:d,handleModalSuccessClose:()=>{h(!1)},isFinishedFailed:u,handleModalFailedClose:()=>{f(!1)},isModalDelShow:m,handleModalDeleteClose:()=>{p(!1)}})]})}},62429:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var r=n(65171);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(e/r.J),n=Math.floor(e%r.J/60),a=e=>e>1?"s":"";return"".concat(t," hour").concat(a(t)," ").concat(n>0?"".concat(n," minute").concat(a(n)):""," ")}},47970:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});let r=(e,t)=>{let{rent_user_id:n,owner_user_id:r}=e;return r===t?"earn":n===t?"borrow":null}},9585:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(33458);let a=()=>{window.location.href=r.f8}},49480:function(){},45097:function(e){e.exports={txtBlock:"ModalRent_txtBlock___Qo11"}},97978:function(e){e.exports={root:"OfferCard_root__Q_ga1",tag:"OfferCard_tag__ghXxr",content:"OfferCard_content__raZuz",info:"OfferCard_info__70uKM"}},12655:function(e){e.exports={root:"OfferCardCompletionTime_root__GIw5a"}},50009:function(e){e.exports={published:"OfferCardMarketpaceBtns_published__UHtD5"}},72323:function(e){e.exports={input:"OfferForm_input__jeEm0",icon:"OfferForm_icon__p2eYV"}},97255:function(e){e.exports={root:"ProfitBox_root__Xn28j"}},19310:function(e){e.exports={button:"InputNumberExt_button__DVjUi",input:"InputNumberExt_input__3_3DB"}}}]);