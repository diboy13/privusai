(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{24654:function(){},71499:function(e,t,n){Promise.resolve().then(n.bind(n,93617))},65472:function(e,t,n){"use strict";n.d(t,{Bm:function(){return s}});var r=n(89506);let a="/config";class i{static async getConfig(){return(await r.h.get(a)).data}}var l=n(76351);let u=()=>({queryKey:[a],queryFn:()=>i.getConfig()}),s=()=>(0,l.a)(u())},93617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(57437),a=n(2265),i=n(77733),l=n(95381),u=n(24623),s=n(16463),o=n(2151),c=n.n(o),m=n(77437),d=n(65171),_=n(65472),g=n(98616),f=n(1450),h=e=>{let{label:t,placeholder:n,min:i,max:l,defaultValue:s=[null,null],onChange:o,inputMin:c,inputMax:m,type:d="integer"}=e,_=String(n?n[0]:i||0),h=String(n?n[1]:l||0),[p,x]=(0,a.useState)(s[0]),[N,v]=(0,a.useState)(s[1]),[M,b]=(0,a.useState)(""),[j,E]=(0,a.useState)(""),S=e=>"".concat(e).replace(/,/g,"."),A=e=>"".concat(e).replace(/[^0-9]/g,""),y=e=>{x(e),o&&o([e,N])},R=()=>{y(null),b("")},Z=e=>!i||null!==e&&Number(e)>=Number(i),T=e=>{b(""),Z(e)?y(Number(e)):(b("error"),x(Number(e)))},C=e=>{""===e?R():T(e)},P=e=>{v(e),o&&o([p,e])},U=()=>{P(null),E("")},k=e=>!l||null!==e&&Number(e)<=Number(l),I=e=>{E(""),k(e)?P(Number(e)):(E("error"),v(Number(e)))},O=e=>{""===e?U():I(e)};return(0,r.jsxs)(u.Z,{gap:4,vertical:!0,children:[(0,r.jsx)(f.Z,{type:"secondary",style:{fontSize:18},children:t}),(0,r.jsxs)(u.Z,{gap:5,vertical:!0,children:[(0,r.jsxs)(u.Z,{gap:5,children:[(0,r.jsx)(g.Z,{style:{width:"100%",paddingRight:8},controls:!1,placeholder:_,value:p,onBlur:e=>{let{value:t}=e.target;"integer"!==d?C(S(t)):C(A(t))},onPressEnter:e=>{let t=e.target.value;"integer"!==d?C(S(t)):C(t)},formatter:e=>"".concat(e).replace(/,/g,"."),...c,status:M||(null==c?void 0:c.status)}),(0,r.jsx)(g.Z,{style:{width:"100%",paddingRight:8},controls:!1,placeholder:h,value:N,onBlur:e=>{let{value:t}=e.target;"integer"!==d?O(S(t)):O(t)},onPressEnter:e=>{let t=e.target.value;"integer"!==d?O(S(t)):O(t)},formatter:e=>"".concat(e).replace(/,/g,"."),...m,status:j||(null==m?void 0:m.status)})]}),""!==M&&(0,r.jsx)(f.Z,{type:"danger",children:"Min value: ".concat(i)}),""!==j&&(0,r.jsx)(f.Z,{type:"danger",children:"Max value: ".concat(l)})]})]})},p=n(1440),x=n.n(p),N=()=>{let e=(0,s.useRouter)(),t=(0,s.usePathname)(),n=(0,s.useSearchParams)(),{data:i}=(0,_.Bm)(),l=Number(n.get("rent_time_min"))>0?Number(n.get("rent_time_min"))/d.J:null,o=Number(n.get("rent_time_max"))>0?Number(n.get("rent_time_max"))/d.J:null,g=Number(n.get("amount_min"))||null,f=Number(n.get("amount_max"))||null,p=Number(n.get("annual_rate_min"))||null,N=Number(n.get("annual_rate_max"))||null,v=(0,a.useCallback)(r=>{let a=new URLSearchParams(n.toString());Object.entries(r).forEach(e=>{let[t,n]=e;"null"===n?a.delete(t):a.set(t,n)}),e.push("".concat(t,"?").concat(a.toString()))},[n]),M=e=>{let t={};e.forEach((e,n)=>{0===n?t.amount_min=String(e):1===n&&(t.amount_max=String(e))}),v(t)},b=e=>{let t={};e.forEach((e,n)=>{0===n?t.rent_time_min=String(null!==e?e*d.J:e):1===n&&(t.rent_time_max=String(null!==e?e*d.J:e))}),v(t)},j=e=>{let t={};e.forEach((e,n)=>{0===n?t.annual_rate_min=String(e):1===n&&(t.annual_rate_max=String(e))}),v(t)},{MIN_AMOUNT:E,MAX_AMOUNT:S,MIN_RENT_TIME:A,MAX_RENT_TIME:y,MIN_ANNUAL_RATE:R,MAX_ANNUAL_RATE:Z}=null!=i?i:m.g;return(0,r.jsx)(u.Z,{vertical:!0,gap:4,children:(0,r.jsxs)(u.Z,{vertical:!0,gap:8,className:x().item,children:[(0,r.jsx)(h,{label:"Coins amount",min:E,max:S,placeholder:["".concat(E),"".concat(S/1e6," mln")],defaultValue:[g,f],onChange:c()(e=>M(e),300),type:"float",inputMin:{stringMode:!0},inputMax:{stringMode:!0}}),(0,r.jsx)(h,{label:"Period time (hours)",min:A/d.J,max:y/d.J,defaultValue:[l,o],onChange:c()(e=>b(e),300),inputMin:{stringMode:!0},inputMax:{stringMode:!0}}),(0,r.jsx)(h,{label:"Annual rate %",min:R,max:Z,defaultValue:[p,N],onChange:c()(e=>j(e),300),inputMin:{stringMode:!0},inputMax:{stringMode:!0}})]})})},v=n(87138),M=n(6084),b=n.n(M),j=n(56800),E=e=>{let{name:t,className:n,href:a,counter:i,isActive:l}=e,u=(0,s.usePathname)()===a||l,o=j(b().root,u?b().active:n);return(0,r.jsxs)(v.default,{className:o,href:a,children:[(0,r.jsx)("span",{children:t}),i&&(0,r.jsx)("span",{className:b().counter,children:i})]})},S=n(57975),A=n.n(S),y=n(56800),R=e=>{let{items:t=[],className:n}=e;return(0,r.jsx)("ul",{className:y(A().root,n),children:t&&t.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(E,{...e})},e.name))})},Z=n(84921),T=n.n(Z);let C=[{name:"POH rent",href:"/poh-marketplace",isActive:!1},{name:"My offers",href:"/poh-marketplace/offers",isActive:!1}];var P=function(e){let{children:t}=e,n=(0,s.usePathname)();return(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)(i.Z,{className:T().root,children:[(0,r.jsx)(l.Z,{className:T().nav,children:(0,r.jsxs)(u.Z,{vertical:!0,gap:40,children:[(0,r.jsx)(R,{items:C}),"/poh-marketplace"===n&&(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(N,{})})]})}),(0,r.jsx)(l.Z,{className:T().content,children:t})]})})}},89506:function(e,t,n){"use strict";n.d(t,{h:function(){return c},J:function(){return m}});var r=n(38472),a=n(97334),i=n.n(a),l=n(93375);let u=()=>(0,l.getCookie)("clore_token");var s=n(9585),o=n(33458);let c=r.Z.create({baseURL:o.UU,paramsSerializer:e=>i().stringify(e,{indices:!1})});c.interceptors.request.use(e=>{let t=null!==o.Y$&&void 0!==o.Y$?o.Y$:u();return t||(0,s.r)(),e.data?e.data={...e.data,token:t}:e.data={token:t},e});let m=r.Z.create({baseURL:o.Ee,paramsSerializer:e=>i().stringify(e,{indices:!1})});m.interceptors.request.use(e=>{let t=null!==o.Y$&&void 0!==o.Y$?o.Y$:u();return t||(0,s.r)(),e.data?e.data={...e.data,token:t}:e.data={token:t},e})},33458:function(e,t,n){"use strict";n.d(t,{Ee:function(){return l},UU:function(){return i},Y$:function(){return u},f8:function(){return a}});var r=n(25566);let a="https://clore.ai/login",i="https://clore.ai/poh-api",l="https://clore.ai",u=r.env.NEXT_PUBLIC_AUTH_TOKEN_FOR_DEV},77437:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(65171);let a={MAX_AVAILABLE_OFFERS:20,MIN_ANNUAL_RATE:5,MAX_ANNUAL_RATE:250,MIN_RENT_TIME:r.R,MAX_RENT_TIME:90*r.R,MIN_AMOUNT:500,MAX_AMOUNT:1e7,PENALTY_PERCENTAGE:5}},65171:function(e,t,n){"use strict";n.d(t,{J:function(){return r},R:function(){return a}});let r=3600,a=86400},9585:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(33458);let a=()=>{window.location.href=r.f8}},84921:function(e){e.exports={root:"layout_root__29zcR",nav:"layout_nav__TpD6A",content:"layout_content__eWwNd"}},1440:function(e){e.exports={item:"RentFilters_item__3NTWo"}},57975:function(e){e.exports={root:"SidebarMenu_root__e_KDB"}},6084:function(e){e.exports={root:"SidebarMenuItem_root__MMPX3",active:"SidebarMenuItem_active__FDCNx",counter:"SidebarMenuItem_counter__HOYCN"}}},function(e){e.O(0,[725,7,566,416,971,23,744],function(){return e(e.s=71499)}),_N_E=e.O()}]);